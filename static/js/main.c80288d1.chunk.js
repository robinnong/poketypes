(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a(50)},30:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),s=a.n(o),c=a(2),m=a(3),l=a(4),u=a(5),i=(a(30),a(8)),p=a.n(i);a(32);p.a.initializeApp({apiKey:"AIzaSyB0ExgcRTFQunAi_ixrieVm8-PAU_cW_LA",authDomain:"poketypes-d3f8f.firebaseapp.com",databaseURL:"https://poketypes-d3f8f.firebaseio.com",projectId:"poketypes-d3f8f",storageBucket:"poketypes-d3f8f.appspot.com",messagingSenderId:"988745241932",appId:"1:988745241932:web:82343a19ac76576d2f2be9"});var d=p.a,h=a(24),f=a(9),g=a.n(f),b=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.input.value.toLowerCase()===e.state.pokemon[e.state.gameCounter]?(e.setState({gameCounter:e.state.gameCounter+1}),e.setState((function(e){return{gameCounterPlus1:e.gameCounterPlus1+1}})),e.input.value="",e.input.className="",e.getPokemonImage(e.state.pokemon[e.state.gameCounterPlus1]),e.props.setScore(e.state.gameCounter)):e.input.className="error animated shake"},e.getPokemonList=function(t){for(var a=Object(h.a)(t.data.results),n=a.length-1;n>0;n--){var r=Math.floor(Math.random()*a.length),o=a[n];a[n]=a[r],a[r]=o}var s=[];a.forEach((function(e){s.push(e.name)})),e.setState({pokemon:s}),e.getPokemonImage(s[0])},e.getPokemonImage=function(t){g()({url:"https://pokeapi.co/api/v2/pokemon/".concat(t),method:"GET",responseType:"json"}).then((function(t){var a=t.data.sprites.front_default;e.setState({image:a})}))},e.state={pokemon:[],image:"",gameCounter:0,gameCounterPlus1:1,timer:30},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.setState({timer:e.state.timer-1}),0===e.state.timer&&e.props.endGame()}),1e3);var t=Math.floor(600*Math.random());g()({url:"https://pokeapi.co/api/v2/pokemon/?offset=".concat(t,"&limit=30"),method:"GET",responseType:"json"}).then((function(t){e.getPokemonList(t)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"counterBar"},r.a.createElement("p",{className:"pokedex"},"Pokedex: ",r.a.createElement("span",null,this.state.gameCounter)),r.a.createElement("p",{className:"timer","aria-label":"Timer"},r.a.createElement("i",{className:"far fa-clock","aria-hidden":"true"})," ",r.a.createElement("span",null,this.state.timer))),r.a.createElement("div",{className:"speechBubble"},r.a.createElement("p",{className:"pokemonName"},this.state.pokemon[this.state.gameCounter])),r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{className:"pokemonImage animated bounce",src:this.state.image,alt:""})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"word"},"Press enter key to submit"),r.a.createElement("input",{type:"text",id:"word",ref:function(t){return e.input=t},autoFocus:"autoFocus",autoComplete:"off"})))}}]),a}(n.Component);var E=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"animated bounceIn"},"PokeTypes"),r.a.createElement("div",{className:"landingText"},r.a.createElement("p",null,"Test your typing skills and catch as many Pokemon as you can!"),r.a.createElement("p",null,"Type the names of Pokemon as they appear on the screen.")),r.a.createElement("button",{className:"startButton",type:"button",onClick:e.startGame},"Start Game"),r.a.createElement("button",{className:"leaderboardButton",type:"button",onClick:e.showLeaderboard},"Leaderboard"))},v=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).addToFirebase=function(t){t.preventDefault();var a=d.database().ref(),n={name:e.state.userName,score:e.props.finalScore};a.push(n),e.props.showHome()},e.handleUserInput=function(t){var a=15-t.target.value.length;e.setState({userName:t.target.value,characterCount:a})},e.state={userName:"",characterCount:15},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Game Over"),r.a.createElement("p",{className:"endMessage"},"You caught ",this.props.pokedex," Pokemon!"),r.a.createElement("form",{action:"",className:"usernameForm",onSubmit:this.addToFirebase},r.a.createElement("label",{htmlFor:"username"},"Submit your username"),r.a.createElement("div",{className:"inputContainer"},r.a.createElement("input",{type:"text",id:"username",name:"username",maxLength:"15",required:!0,value:this.state.userName,onChange:this.handleUserInput}),r.a.createElement("p",{className:"characterCount"},"max characters: ",this.state.characterCount)),r.a.createElement("button",{type:"submit",className:"endButton"},"Submit score")))}}]),a}(n.Component),k=function(e){return r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("p",{className:"rank"},e.rank),r.a.createElement("p",{className:"userName"},e.name)),r.a.createElement("p",{className:"score"},e.score))},y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"homeButton",onClick:this.props.showHome},r.a.createElement("i",{className:"fas fa-home","aria-hidden":"true"}),r.a.createElement("span",null,"Back to Home")),r.a.createElement("div",{className:"leaderboard animated fadeInUp"},r.a.createElement("h3",null,"Leaderboard"),r.a.createElement("i",{className:"fas fa-crown"}),r.a.createElement("ol",null,this.props.users.map((function(e,t){return r.a.createElement(k,{key:t,rank:t+1,name:e.name,score:e.score})})))))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getHighScores=function(){d.database().ref().on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push(a[r]);n.sort((function(e,t){return t.score-e.score}));var o=n.slice(0,10);e.setState({users:o})}))},e.renderLeaderboard=function(){e.setState({gameState:r.a.createElement(y,{showHome:function(){return e.renderLandingPage()},users:e.state.users,display:e.state.leaderDisplay})})},e.renderLandingPage=function(){e.setState({gameState:r.a.createElement(E,{startGame:function(){return e.startGame()},showLeaderboard:function(){return e.renderLeaderboard()}})})},e.startGame=function(){e.setState({gameState:r.a.createElement(b,{endGame:e.endGame,setScore:e.setScore}),counter:0})},e.endGame=function(){e.setState({gameState:r.a.createElement(v,{pokedex:e.state.counter,finalScore:e.state.counter,showHome:function(){return e.renderLandingPage()}})})},e.setScore=function(t){e.setState({counter:t})},e.state={gameState:r.a.createElement(E,{startGame:function(){return e.startGame()},showLeaderboard:function(){return e.renderLeaderboard()}}),counter:0,timer:30,users:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getHighScores()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("main",null,r.a.createElement("div",{className:"wrapper"},this.state.gameState)),r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2020 ",r.a.createElement("a",{href:"https://robinnong.com"},"Robin Nong"),". View the code ",r.a.createElement("a",{href:"https://github.com/robinnong/poketypes"},"here"),".")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.c80288d1.chunk.js.map