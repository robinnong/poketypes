(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a(50)},30:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),s=a.n(o),c=a(2),m=a(3),u=a(4),l=a(5),i=(a(30),a(8)),p=a.n(i);a(32);p.a.initializeApp({apiKey:"AIzaSyDTI7rBK3vUbh7FbKDRzDUfhuJLu5jWsgk",authDomain:"poketypes-c4369.firebaseapp.com",databaseURL:"https://poketypes-c4369.firebaseio.com",projectId:"poketypes-c4369",storageBucket:"poketypes-c4369.appspot.com",messagingSenderId:"191931962167",appId:"1:191931962167:web:1f594c968bd2f5bcac00b2"});var h=p.a,d=a(24);var f=function(e){return r.a.createElement("div",{className:"speechBubble"},r.a.createElement("h2",null,e.pokemonName))},g=a(9),b=a.n(g),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.input.value===e.state.pokemon[e.state.gameCounter]?(e.props.scoreFunction(),e.setState((function(e){return{gameCounter:e.gameCounter+1,gameCounterPlus1:e.gameCounterPlus1+1}})),e.input.value="",e.input.className="",e.getPokemonImage(e.state.pokemon[e.state.gameCounterPlus1])):e.input.className="error animated shake"},e.getPokemonList=function(t){for(var a=Object(d.a)(t.data.results),n=a.length-1;n>0;n--){var r=Math.floor(Math.random()*a.length),o=a[n];a[n]=a[r],a[r]=o}var s=[];a.forEach((function(e){s.push(e.name)})),e.setState({pokemon:s}),e.getPokemonImage(s[0])},e.getPokemonImage=function(t){b()({url:"https://pokeapi.co/api/v2/pokemon/".concat(t),method:"GET",responseType:"json"}).then((function(t){var a=t.data.sprites.front_default;e.setState({image:a}),console.log(a)}))},e.state={pokemon:[],image:"",gameCounter:0,gameCounterPlus1:1,timer:30},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.setState({timer:e.state.timer-1}),0===e.state.timer&&e.props.endGame()}),1e3);var t=Math.floor(600*Math.random());b()({url:"https://pokeapi.co/api/v2/pokemon/?offset=".concat(t,"&limit=30"),method:"GET",responseType:"json"}).then((function(t){e.getPokemonList(t)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"counterBar"},r.a.createElement("p",{className:"pokedex"},"Pokedex: ",r.a.createElement("span",null,this.state.gameCounter)),r.a.createElement("p",{className:"timer","aria-label":"Timer"},r.a.createElement("i",{className:"far fa-clock","aria-hidden":"true"})," ",r.a.createElement("span",null,this.state.timer))),r.a.createElement(f,{pokemonName:this.state.pokemon[this.state.gameCounter]}),r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{className:"pokemonImage",src:this.state.image,alt:""})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"word"},"Type the pokemon name to catch!"),r.a.createElement("input",{type:"text",id:"word",ref:function(t){return e.input=t},autoFocus:"autoFocus",autoComplete:"off"})),r.a.createElement("p",null,"Click the enter key to submit"))}}]),a}(n.Component);var v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"PokeTypes"),r.a.createElement("p",null,"Test your typing skills and catch as many Pokemon as you can!"),r.a.createElement("p",null,"Type the names of Pokemon as they appear on the screen."),r.a.createElement("button",{type:"button",onClick:e.startGame},"Start Game"),r.a.createElement("button",{type:"button",onClick:e.showLeaderboard},"Leaderboard"))},k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).addToFirebase=function(t){t.preventDefault();var a=h.database().ref(),n={name:e.state.userName,score:e.props.finalScore};a.push(n),e.props.showHome()},e.handleUserInput=function(t){e.setState({userName:t.target.value})},e.state={userName:""},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Game Over"),r.a.createElement("p",null,"You caught ",this.props.pokedex," Pokemon!"),r.a.createElement("form",{action:"",onSubmit:this.addToFirebase},r.a.createElement("label",{htmlFor:"username"},"Username (max. 15 characters)"),r.a.createElement("input",{type:"text",id:"username",name:"username",maxLength:"15",required:!0,value:this.state.userName,onChange:this.handleUserInput}),r.a.createElement("button",null,"Submit your score")))}}]),a}(n.Component);var y=function(e){return r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("p",{className:"rank"},e.rank),r.a.createElement("p",{className:"userName"},e.name)),r.a.createElement("p",{className:"score"},e.score))},S=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"homeButton",onClick:this.props.showHome},r.a.createElement("i",{className:"fas fa-home"})),r.a.createElement("div",{className:"leaderboard"},r.a.createElement("h3",null,"Leaderboard"),r.a.createElement("i",{className:"fas fa-crown"}),r.a.createElement("ol",null,this.props.users.map((function(e,t){return r.a.createElement(y,{key:t,rank:t+1,name:e.name,score:e.score})})))))}}]),a}(n.Component),N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getHighScores=function(){h.database().ref().on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push(a[r]);n.sort((function(e,t){return t.score-e.score}));var o=n.slice(0,10);e.setState({users:o})}))},e.showLeaderboard=function(){e.setState({gameState:r.a.createElement(S,{showHome:function(){return e.renderLandingPage()},users:e.state.users,display:e.state.leaderDisplay})})},e.renderLandingPage=function(){e.setState({gameState:r.a.createElement(v,{startGame:function(){return e.startGame()},showLeaderboard:function(){return e.showLeaderboard()}})})},e.endGame=function(){e.setState({gameState:r.a.createElement(k,{pokedex:e.state.counter,finalScore:e.state.counter,showHome:function(){return e.renderLandingPage()}}),scores:e.state.counter})},e.addScore=function(){e.setState({counter:e.state.counter+1})},e.startGame=function(){e.setState({gameState:r.a.createElement(E,{endGame:function(){return e.endGame()},scoreFunction:function(){return e.addScore()}}),counter:0})},e.state={gameState:r.a.createElement(v,{startGame:function(){return e.startGame()},showLeaderboard:function(){return e.showLeaderboard()}}),counter:0,timer:20,users:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getHighScores()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("main",null,r.a.createElement("div",{className:"wrapper"},this.state.gameState)),r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2020 ",r.a.createElement("a",{href:"https://robinnong.com"},"Robin Nong"),". View the code ",r.a.createElement("a",{href:"https://github.com/robinnong/poketypes"},"here"),".")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.66a0da53.chunk.js.map